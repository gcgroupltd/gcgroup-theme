{%- comment -%}
  ============================================================
  Section: Appointment Highlight
  - Displays a text column and an image column side-by-side.
  - On mobile, the image is hidden, and the content is centered.
  ============================================================
{%- endcomment -%}

{%- style -%}
  .ah-section {
    padding: 40px 0;
  }

  .ah-container {
    display: flex;
    max-width: 1200px;
    margin: 0 auto;
    border-radius: 8px;
    overflow: hidden;
    border: 1px solid #e0e0e0;
  }

  .ah-content {
    flex: 2;
    padding: 40px;
    background-color: {{ section.settings.left_bg_color }};
    display: flex;
    flex-direction: column;
    justify-content: center;
    color: {{ section.settings.left_text_color }};
  }

  .ah-image-wrapper {
    flex: 1;
    background-color: {{ section.settings.right_bg_color }};
  }

  .ah-image-wrapper img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    display: block;
  }

  .ah-heading {
    font-size: 38px;
    font-weight: bold;
    margin-top: 0;
    margin-bottom: 15px;
    /* Color will be inherited from the .ah-content parent */
  }

  .ah-text {
    font-size: 20px;
    line-height: 1.6;
    margin-bottom: 30px;
  }
  
  .ah-text p {
    /* This ensures paragraphs inside the richtext also inherit the color */
    color: inherit;
  }

  .ah-button {
    padding: 12px 24px;
    text-decoration: none;
    border-radius: 4px;
    font-weight: bold;
    display: inline-block;
    max-width: 250px;
    text-align: center;
  }

  @media screen and (max-width: 768px) {
    .ah-container {
      /* Stack the columns vertically */
      flex-direction: column;
    }
    .ah-content {
      /* Center the text and button for a clean mobile look */
      text-align: center;
      align-items: center;
    }
    .ah-image-wrapper {
      /* The key change: hide the image container on mobile */
      display: none;
    }
  }
{%- endstyle -%}

<div class="ah-section">
  <div class="page-width">
    <div class="ah-container">
      <div class="ah-content">
        {%- if section.settings.main_heading != blank -%}
          <h2 class="ah-heading">{{ section.settings.main_heading }}</h2>
        {%- endif -%}

        {%- if section.settings.body_text != blank -%}
          <div class="ah-text">{{ section.settings.body_text }}</div>
        {%- endif -%}

        {%- if section.settings.button_link != blank and section.settings.button_label != blank -%}
          <a href="{{ section.settings.button_link }}" class="ah-button button--primary">
            {{ section.settings.button_label }}
          </a>
        {%- endif -%}
      </div>
      <div class="ah-image-wrapper">
        {%- if section.settings.right_image != blank -%}
          <img 
            src="{{ section.settings.right_image | image_url: width: 600 }}"
            alt="{{ section.settings.right_image.alt | default: 'Appointment highlight image' }}"
            width="600"
            height="{{ 600 | divided_by: section.settings.right_image.aspect_ratio | round }}"
            loading="lazy"
          >
        {%- else -%}
          {{ 'image' | placeholder_svg_tag: 'placeholder-svg' }}
        {%- endif -%}
      </div>
    </div>
  </div>
</div>

{% schema %}
{
  "name": "Appointment Highlight",
  "tag": "section",
  "class": "section",
  "settings": [
    {
      "type": "header",
      "content": "Left Column (Content)"
    },
    {
      "type": "color",
      "id": "left_bg_color",
      "label": "Background Color",
      "default": "#FFFFFF"
    },
    {
      "type": "color",
      "id": "left_text_color",
      "label": "Text Color",
      "default": "#333333"
    },
    {
      "type": "text",
      "id": "main_heading",
      "label": "Heading",
      "default": "Buy once, buy well..."
    },
    {
      "type": "richtext",
      "id": "body_text",
      "label": "Text",
      "default": "<p>All our blinds, curtains and shutters are made-to-measure for a perfect fit.</p>"
    },
    {
      "type": "text",
      "id": "button_label",
      "label": "Button Label",
      "default": "Book an Appointment"
    },
    {
      "type": "url",
      "id": "button_link",
      "label": "Button Link"
    },
    {
      "type": "header",
      "content": "Right Column (Image)"
    },
    {
      "type": "image_picker",
      "id": "right_image",
      "label": "Image"
    },
    {
      "type": "color",
      "id": "right_bg_color",
      "label": "Image Background Color",
      "info": "Shows if no image is selected on desktop.",
      "default": "#F5F5F5"
    }
  ],
  "presets": [
    {
      "name": "Appointment Highlight"
    }
  ]
}
{% endschema %}