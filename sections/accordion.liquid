{{ 'mui.css' | asset_url | stylesheet_tag }}
    <link
      href="https://fonts.googleapis.com/icon?family=Material+Icons"
      rel="stylesheet"
    />
<style>
  #mui .accordion {
    {% comment %} padding:1.5rem; {% endcomment %}
     gap:0.72rem;
     padding:0 0.72rem;
  }
  #mui .accordion-header { 
    border: 1px solid rgba(var(--color-foreground), 0.05);
    padding:1.5rem!important;
    background: rgb(var(--color-background)) linear-gradient(rgba(var(--color-foreground), 0.04), rgba(var(--color-foreground), 0.04)) !important;
  }
  #mui .accordion-body { 
    border-bottom:inherit!important;
    border-top:0!important;
  }
  #mui .card {
    margin:0;
  }
  .foxtrot { 
    padding:0.7rem!important;
  }
  @media screen and (max-width: 580px) { 
    .row-reverse-mobile {
      display:flex;
      flex-direction: column-reverse;
    }
  }
  .ratio { 
    height:auto;
    width:100%;
    object-fit:cover;
  }
  
  #mui .gallery {
    visibility:hidden;
    margin-top:0.52rem;
      {% comment %} gap:1.5rem; {% endcomment %}
      {% comment %} padding:1.5rem!important; {% endcomment %}
      display:grid;
    	grid-template-columns: repeat(2, minmax(0, 1fr));
  }
  #materialbox-overlay {
    height:100dvh!important;
    width:100dvh!important;
    position:fixed!important;
    left:0!important;
    top:0!important;
    bottom:unset!important;
    right:unset!important;
    will-change: opacity!important;
}
.lkhgoidhyfvjbhxvcbn{
max-width:1440px;
margin:0 auto;
}
  .material-placeholder{ 
    width: 100%;
    height: 0;
    padding-top: 100%;
    position: relative;
  }
  #mui .materialboxed { 
    height: 100%;
    width: 100%;
    object-fit: cover;
    position: absolute;
    top: 0;
    left: 0;
  }
   #mui .materialboxed::after{
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: inherit;
  }
</style>

<div id="mui" class="lkhgoidhyfvjbhxvcbn" style="">
    <div class="row row-reverse-mobile">
    <aside class="col s12 m6">
      <div class="acc__aside__content row" id="mui">
        {% assign content_array = collection.metafields.custom.accordion | split: '\n' %}
          <ul class="collapsible accordion">
      {% for content in content_array %}
        {% assign parts = content | split: ':' %}
        {% assign accordion_title = parts[0] %}
        {% assign accordion_description = parts[1] %}
        <li{% if forloop.first %} class="active"{% endif %}>
          <div class="collapsible-header accordion-header"><i class="material-icons">expand_more</i>{{ accordion_title }}</div>
          <div class="collapsible-body accordion-body"><span>{{ accordion_description }}</span></div>
        </li>
      {% endfor %}          
        </ul>
      </div>
    </aside>
      <aside class="col s12 m6 gallery" id="hide_until_load">
      {% for img in collection.metafields['custom']['image_gallery'].value  %}
          <img height="inherit" width="inherit" src="{{ img | image_url }}"  class="materialboxed gaz-item-src">
      {% endfor %}
    </aside>
    </div>
  </div>    
    
<script>


  document.addEventListener('DOMContentLoaded', function() {
    var elems = document.querySelectorAll('.accordion');
    var instances = M.Collapsible.init(elems, {});

    var elems = document.querySelectorAll('.materialboxed');
    var instances = M.Materialbox.init(elems, {
      overlayActive: true,
    });

    const ele = document.getElementById('hide_until_load')
    ele.style.visibility = 'visible'
  });

</script>

{% schema %}
{
  "name": "Accordion",
  "settings": [
        {
      "type": "color_scheme",
      "id": "section_color_scheme",
      "label": "Color scheme",
      "default": "scheme-6"
    },
      {
        "type": "header",
        "content": "Information",
        "info": "This component uses the upper most Block content. This allows us to save presets for future sales and manage our content easily.",
      },
    {
      "type": "image_picker",
      "id": "image",
      "label": "Image"
    },
    {
      "type": "text",
      "id": "title",
      "label": "Title",
      "default": "This is a basic section"
    },
    {
      "type": "textarea",
      "id": "text",
      "label": "Text",
      "default": "Add your custom text here."
    }
  ],
    "blocks": [
    {
      "type": "text_block",
      "name": "Text Block",
      "settings": [
        {
          "type": "text",
          "id": "text",
          "label": "Text"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Collection Accordion",
    }
  ]
}
{% endschema %}
